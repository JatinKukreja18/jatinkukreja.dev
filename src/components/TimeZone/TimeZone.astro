---
import Card from "../../layouts/Card.astro";

const { class: className, ...rest } = Astro.props;
---

<div class=`${className} shadow-card`>
  <Card title="Timezone">
    <p class="text-md font-sans text-brand-blue"><span id="clock"></span> IST <br />Gurugram HR, India ðŸ‡®ðŸ‡³</p>
  </Card>
</div>

<script>
  const clock = () => {
    //Save the times in variables

    var today = new Date();
    var hours: any = today.getHours();
    var minutes: any = today.getMinutes();
    var seconds: any = today.getSeconds();
    let meridiem;
    //Set the AM or PM time

    if (hours >= 12) {
      meridiem = " PM";
    } else {
      meridiem = " AM";
    }

    //convert hours to 12 hour format and put 0 in front
    if (hours > 12) {
      hours = hours - 12;
    } else if (hours === 0) {
      hours = 12;
    }

    //Put 0 in front of single digit minutes and seconds

    if (minutes < 10) {
      minutes = "0" + minutes;
    } else {
      minutes = minutes;
    }

    if (seconds < 10) {
      seconds = "0" + seconds;
    } else {
      seconds = seconds;
    }
    if (document.getElementById("clock") !== null) {
      document.querySelector("#clock").innerHTML = hours + ":" + minutes + ":" + seconds + meridiem;
    }

    console.log(hours + ":" + minutes + ":" + seconds + meridiem);
  };
  clock();
  setInterval(() => {
    clock();
  }, 1000);
</script>
